-------------------------------------------------------------------------
mysql> desc t2;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | NO   | PRI | NULL    |       |
| name  | varchar(10) | YES  |     | NULL    |       |
| age   | int(2)      | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> select * from t2;
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 101 | anil   |   22 |
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 106 | rajesh |   18 |
| 107 | naresh |   28 |
+-----+--------+------+
7 rows in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER &&
mysql> CREATE PROCEDURE p1()
    -> BEGIN
    ->     SELECT * FROM t2 WHERE age >= 25;
    -> END &&
Query OK, 0 rows affected (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER ;
mysql>
-------------------------------------------------------------------------
mysql> call p1();
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 107 | naresh |   28 |
+-----+--------+------+
5 rows in set (0.00 sec)
Query OK, 0 rows affected (0.01 sec)
mysql>
-------------------------------------------------------------------------
mysql> select * from t2;
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 101 | anil   |   22 |
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 106 | rajesh |   18 |
| 107 | naresh |   28 |
+-----+--------+------+
7 rows in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> SELECT * FROM t2 WHERE age >= 25 ;
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 107 | naresh |   28 |
+-----+--------+------+
5 rows in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER &&
mysql> CREATE PROCEDURE onlyTopRows(x INT)
    -> BEGIN
    -> SELECT * FROM t2 WHERE age >= 25 LIMIT x;
    -> END &&
Query OK, 0 rows affected (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER ;
mysql>
-------------------------------------------------------------------------
mysql> call onlyTopRows(2);
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
+-----+--------+------+
2 rows in set (0.00 sec)
Query OK, 0 rows affected (0.01 sec)
mysql>
-------------------------------------------------------------------------
mysql> call onlyTopRows(5);
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 107 | naresh |   28 |
+-----+--------+------+
5 rows in set (0.00 sec)
Query OK, 0 rows affected (0.01 sec)
mysql>
-------------------------------------------------------------------------
mysql> select * from t2;
+-----+--------+------+
| id  | name   | age  |
+-----+--------+------+
| 101 | anil   |   22 |
| 102 | sunil  |   26 |
| 103 | sanjay |   25 |
| 104 | suresh |   25 |
| 105 | ramesh |   32 |
| 106 | rajesh |   18 |
| 107 | naresh |   28 |
+-----+--------+------+
7 rows in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER &&
mysql>
-------------------------------------------------------------------------
mysql> CREATE PROCEDURE maxAge (OUT x INT)
    -> BEGIN
    ->     SELECT MAX(age) INTO x FROM t2;
    -> END &&
Query OK, 0 rows affected (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> DELIMITER ;
mysql>
-------------------------------------------------------------------------
mysql> call maxAge(@y);
Query OK, 1 row affected (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> select @y;
+------+
| @y   |
+------+
|   32 |
+------+
1 row in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
mysql> select @y as MaxAgeInTable;
+---------------+
| MaxAgeInTable |
+---------------+
|            32 |
+---------------+
1 row in set (0.00 sec)
mysql>
-------------------------------------------------------------------------
-------------------------------------------------------------------------





 



