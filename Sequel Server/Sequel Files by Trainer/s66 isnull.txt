-------------------------------------------------------------------------
			SQL Server ISNULL Function
-------------------------------------------------------------------------
It allows the user to replace the NULL values with a given 
replacement value. 
-------------------------------------------------------------------------
			1. ISNULL function with the numeric value
-------------------------------------------------------------------------
SELECT ISNULL(NULL, 25) AS Result; 
go 
-------------------------------------------------------------------------
Result
25
-------------------------------------------------------------------------
			2. ISNULL function with character string data
-------------------------------------------------------------------------
SELECT ISNULL('mphasis', 'pune') AS Result;  
go
-------------------------------------------------------------------------
Result
-------------------------------------------------------------------------
mphasis
-------------------------------------------------------------------------
			3. ISNULL function with variables
-------------------------------------------------------------------------DECLARE @e VARCHAR(45);  
DECLARE @v VARCHAR(25);  
SET @e = NULL;  
SET @v = 'mphasis';  
SELECT ISNULL(@e, @v) AS Result; 
go 
-------------------------------------------------------------------------
Result
-------------------------------------------------------------------------
mphasis
-------------------------------------------------------------------------
			4. ISNULL Function on Table
-------------------------------------------------------------------------
use db1;
go
-------------------------------------------------------------------------
CREATE TABLE db1.s1.mphasis_employee 
		(	ID 	INT IDENTITY 	PRIMARY KEY,   
			Name 	VARCHAR(50) 	NOT NULL,   
 			Age 	INT 		NULL,  
 			Salary 	INT 		NULL  
		);  
go
-------------------------------------------------------------------------
INSERT INTO db1.s1.mphasis_employee 
		(Name, Age, Salary)  
VALUES 
		('anil', 24, 12000),   
		('sunil', NULL, 18000),   
		('rajesh', 22, NULL);   
go
-------------------------------------------------------------------------
select * from db1.s1.mphasis_employee ;
go
-------------------------------------------------------------------------
ID	Name		Age		Salary
-------------------------------------------------------------------------
1	anil		24		12000
2	sunil		NULL		18000
3	rajesh		22		NULL
-------------------------------------------------------------------------
To replace the NULL values of these columns without updating them 
permanently in the table.
-------------------------------------------------------------------------
SELECT   
  	ID, Name,  
  	ISNULL(Age, 22) AS Age,   
  	ISNULL(Salary, 25000) AS Salary   
 	FROM db1.s1.mphasis_employee;  
go
-------------------------------------------------------------------------
ID	Name	Age	Salary
-------------------------------------------------------------------------
1	anil	24	12000
2	sunil	22	18000
3	rajesh	22	25000
-------------------------------------------------------------------------
use db1;
go
-------------------------------------------------------------------------
UPDATE db1.s1.mphasis_employee SET Salary = 65000 WHERE ID=3;  
go
-------------------------------------------------------------------------
select * from db1.s1.mphasis_employee ;
go
-------------------------------------------------------------------------
ID	Name	Age	Salary
-------------------------------------------------------------------------
1	anil	24	12000
2	sunil	NULL	18000
3	rajesh	22	65000
-------------------------------------------------------------------------
			5. ISNULL with aggregate functions
-------------------------------------------------------------------------
UPDATE db1.s1.mphasis_employee 
SET Salary = NULL 
WHERE ID=2;  
go
-------------------------------------------------------------------------
select * from db1.s1.mphasis_employee ;
go
-------------------------------------------------------------------------
ID	Name	Age	Salary
-------------------------------------------------------------------------
1	anil	24	12000
2	sunil	NULL	NULL
3	rajesh	22	65000
-------------------------------------------------------------------------
SELECT SUM(ISNULL(Salary, 25000)) AS Sum_of_Salaries 
FROM db1.s1.mphasis_employee;  
go
-------------------------------------------------------------------------
Sum_of_Salaries
-------------------------------------------------------------------------
102000
-------------------------------------------------------------------------
SELECT AVG(ISNULL(Salary, 25000)) AS Avg_of_Salaries 
FROM db1.s1.mphasis_employee;  
go
-------------------------------------------------------------------------
Avg_of_Salaries
-------------------------------------------------------------------------
34000
-------------------------------------------------------------------------
		Difference between SQL Server ISNULL with IS NULL
-------------------------------------------------------------------------
The ISNULL and IS NULL functions are both different in SQL Server. 
-------------------------------------------------------------------------
We use the ISNULL function when we have a need to replace the NULL values 
with a specified value. 
-------------------------------------------------------------------------
On the other hand, we use the IS NULL function when we want to 
identify NULL values in a table.
-------------------------------------------------------------------------
SELECT * FROM db1.s1.mphasis_employee WHERE Salary IS NULL; 
go
-------------------------------------------------------------------------
ID	Name	Age	Salary
-------------------------------------------------------------------------
2	sunil	NULL	NULL
-------------------------------------------------------------------------
SELECT * FROM db1.s1.mphasis_employee WHERE Salary ISNULL(NULL, 0);  
go
-------------------------------------------------------------------------
Msg 4145, Level 15, State 1, Line 11
An expression of non-boolean type specified in a context where a 
condition is expected, near 'ISNULL'.
-------------------------------------------------------------------------
Thus, it's clear that SQL Server does not allow us to use the ISNULL 
to find NULL values.
-------------------------------------------------------------------------
-------------------------------------------------------------------------
